# PROJECT MANAGER

<br>
Тестовое задание на позицию Java Developer

Результатом работы должно быть работающее веб-приложение,
удовлетворяющее требованиям ниже, ссылка на публичный репозиторий с исходным
кодом и инструкцией по запуску.

Описание задачи
Разработать веб-приложения «Проектный менеджер», включая следующий функционал:
 Авторизация: admin -> {admin, password}; user -> {user, password}.
 Иерархическая структура проектов и подпроектов. Создавать, редактировать, удалять
может админ. Получить структуру может любой пользователь.
 Задачи для любого уровня проекта\подпроекта. Задачи делятся на два типа: для
менеджера, для технического специалиста должны содержать название, статус (new,
progress, done), дату создания, дату изменения статуса, стандартную информацию для
конкретного типа.
 Любой пользователь может создать задачу для любого уровня проекта\подпроекта,
изменить статус, удалить свою задачу, посмотреть все задачи. Любой администратор
может редактировать, удалить задачу.
Интерфейс пользователя
 Или реализация простейшего фронтенда.
 Или к проекту должна быть приложена postman коллекция со всеми доступными
операциями для user и admin.
Требования к реализации:
 Java 11 +
 Безопасность с использованием Spring Security
 Доступ к базе данных через JDBС или JPA
 База данных: PostgreSQL
 SQL-скрипт создания таблиц в базе данных и наполнения ее тестовыми данными
(приложить в проект)
 - сборка проекта должна быть реализована с использованием maven
<hr/>

### Tools

![Java 17](https://img.shields.io/badge/-Java17-blue?style=plastic&appveyor)
![Spring](https://img.shields.io/badge/-Spring_Web_REST-success?style=plastic&appveyor)
![Spring](https://img.shields.io/badge/-Spring_Data_JPA-success?style=plastic&appveyor)
![Spring](https://img.shields.io/badge/-Spring_Security-success?style=plastic&appveyor)
![PostgreSQL](https://img.shields.io/badge/-PostgreSQL-9cf?style=plastic&appveyor)
![Validation](https://img.shields.io/badge/-Validation-red?style=plastic&appveyor)
![Thymeleaf](https://img.shields.io/badge/-Thymeleaf-yellow?style=plastic&appveyor)

### Getting started

    1. Clone the repo:

       git clone https://github.com/AskarSariev/PROJECT_MANAGER.git

    2. Application properties:

       spring.datasource.driver-class-name=org.postgresql.Driver
       spring.datasource.url=jdbc:postgresql://localhost:5432/project_manager_db
       spring.datasource.username=postgres
       spring.datasource.password=12345
       spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
       spring.jpa.properties.hibernate.show_sql=true
       spring.mvc.hiddenmethod.filter.enabled=true

    3. SQL scripts:

       CREATE TABLE Projects (
            id INT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
            name VARCHAR(100) NOT NULL,
            parent_project_id INT DEFAULT NULL
       );

       CREATE TABLE Tasks (
            id INT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
            name VARCHAR(250) NOT NULL,
            status VARCHAR(50) NOT NULL,
            create_date DATE NOT NULL,
            update_date DATE DEFAULT NULL,
            executor VARCHAR(50) DEFAULT NULL,
            project_id INT NOT NULL,
            FOREIGN KEY (project_id) REFERENCES Projects(id)
       );

       CREATE TABLE Users_app (
            id INT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
            username VARCHAR(100) NOT NULL UNIQUE,
            password VARCHAR(100) NOT NULL
       );

       INSERT INTO Projects (name) VALUES ('TestProject_1');
       INSERT INTO Projects (name, parent_project_id) VALUES ('TestProject_2', 1);
       INSERT INTO Projects (name) VALUES ('TestProject_3');

       INSERT INTO Tasks (name, status, create_date, update_date, executor, project_id) VALUES ('TestTask_1', 'NEW', '2023-03-22', NULL, 'MANAGER', 1);
       INSERT INTO Tasks (name, status, create_date, update_date, executor, project_id) VALUES ('TestTask_2', 'PROGRESS', '2023-03-23', '2023-03-24', 'TECH_SPECIALIST', 2);
       INSERT INTO Tasks (name, status, create_date, update_date, executor, project_id) VALUES ('TestTask_3', 'DONE', '2023-03-22', '2023-03-23', 'TECH_SPECIALIST', 3);

### Postman collection

    - project (only for ADMIN)
             * GET
                  /projects
                  - Get all projects

             * POST
                  /project
                  - Create a new parent project
                  {
                      "name": "NewProject",
                      "parentProjectId": null
                  }

             * POST
                   /project
                   - Create a new child project
                   {
                       "name": "NewProject",
                       "parentProjectId": 1
                   }

             * PUT
                   /project
                   - Update project: rename or to change parent_project_id
                   {
                        "name": "NewNameProject",
                        "parentProjectId": null
                   }

             * DELETE
                   /project/{id}
                   - Delete project by ID

    - task (for ADMIN and USER)
             * GET
                  /tasks
                   - Get all tasks

             * POST
                  /task
                  - Create a new task
                  {
                      "name": "NewTask",
                      "status": NEW,
                      "createDate": "2023-03-23",
                      "executor": "manager",
                      "projectId": 1
                  }


             * PUT
                   /task
                   - Update task: rename or to change status, updateDate, executor, projectId
                   {
                      "name": "NewNameTask",
                      "status": "PROGRESS",
                      "createDate": "2023-03-23",
                      "updateDate": "2023-03-24",
                      "executor": "TECH_SPECIALIST",
                      "projectId": 1
                   }

             * DELETE
                   /task/{id}
                   - Delete task by ID